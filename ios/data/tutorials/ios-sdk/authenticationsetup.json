{"variants":[{"paths":["\/tutorials\/ios-sdk\/authenticationsetup"],"traits":[{"interfaceLanguage":"swift"}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"This tutorial guides you through creating an app that utilises the "},{"type":"emphasis","inlineContent":[{"type":"text","text":"Authentication"}]},{"type":"text","text":" SDK."}]}],"estimatedTimeInMinutes":10,"title":"Getting started with Authentication","image":"eye-bee-m.jpeg","chapter":"Authentication Setup","kind":"hero","backgroundImage":"eye-bee-m.jpeg"},{"kind":"tasks","tasks":[{"anchor":"Create-an-example-app-that-utilises-the-Authentication-SDK","title":"Create an example app that utilises the Authentication SDK","contentSection":[{"kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Create and configure an iOS Application that uses the Verify SDK Authentication package."}]}],"mediaPosition":"trailing"}],"stepsSection":[{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Open XCode and create a new project."}]}],"caption":[],"type":"step","runtimePreview":null,"media":"step_1_new_project.png"},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Select the iOS App template."}]}],"caption":[],"type":"step","runtimePreview":null,"media":"step_2_iOS_template.png"},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Enter “AuthTest” as the Product Name."}]}],"caption":[],"type":"step","runtimePreview":null,"media":"step_3_name_project.png"},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Select “SwiftUI” from the Interface pop-up menu and “Swift” from the language drop-down, then click Next. Save the project somewhere on your device."}]}],"caption":[],"type":"step","runtimePreview":null,"media":"step_4_swift_ui.png"},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"In your project, go to File -> Add Packages…"}]}],"caption":[],"type":"step","runtimePreview":null,"media":"step_5_add_package.png"},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Enter "},{"type":"codeVoice","code":"https:\/\/github.com\/ibm-security-verify\/verify-sdk-ios.git"},{"type":"text","text":" in the input in the top right, and select “Add Package.”"}]}],"caption":[],"type":"step","runtimePreview":null,"media":"step_6_find_package.png"},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Select “Authentication” from the checklist menu, and then press “Add Package.”"}]}],"caption":[],"type":"step","runtimePreview":null,"media":"step_7_authentication_check.png"},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Now that your App is created, you should have a directory AuthTest with the two files "},{"type":"codeVoice","code":"AuthTestApp.swift"},{"type":"text","text":" and "},{"type":"codeVoice","code":"ContentView.swift"}]}],"caption":[],"type":"step","runtimePreview":null,"media":null}]},{"anchor":"Creating-the-Main-Interface","title":"Creating the Main Interface","contentSection":[{"kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Create a non functional interface for the application in preparation."}]}],"mediaPosition":"trailing"}],"stepsSection":[{"code":"AuthenticationSetup_ContentView_2.swift","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"We can begin by modifying "},{"type":"codeVoice","code":"ContentView.swift"},{"type":"text","text":" and adding some variables that we will put to use later."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"AuthenticationSetup_ContentView_3.swift","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Since we intend to have multiple pages to this application, we will add a navigation view that will replace the example “Hello world!” code already in the file."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"AuthenticationSetup_ContentView_4.swift","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The finished view of this screen will be an interface that has text input to determine the values of the variables, and a button to confirm this. We can add the framework of this setup now, with the Get Started button and a graphic that gives the user some information."}]}],"caption":[],"type":"step","runtimePreview":"AuthenticationSetup_preview_4.png","media":null},{"code":"AuthenticationSetup_ContentView_5.swift","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The next step is to add the text input boxes. As there are more boxes than will fit on the screen, this will be done via a ScrollViewReader. These text boxes will have their inputs fed into their respective variables defined in step 1. We will also add 2 toggles for configuration options."}]}],"caption":[],"type":"step","runtimePreview":"AuthenticationSetup_preview_5.png","media":null},{"code":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"This is almost the final design for the interface. In order to be able to finish it properly, we first need to add some functionality to the application."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null}]},{"anchor":"Create-Authentication-functionality","title":"Create Authentication functionality","contentSection":[{"kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The following section will cover the creation of a SigninViewModel that will handle the Authentication part of the application."}]}],"mediaPosition":"trailing"}],"stepsSection":[{"code":"AuthenticationSetup_SigninViewModel_1.swift","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"We will create a new file called ‘SigninViewModel.swift’, and import the three packages "},{"type":"codeVoice","code":"Foundation"},{"type":"text","text":", "},{"type":"codeVoice","code":"Authentication"},{"type":"text","text":", and "},{"type":"codeVoice","code":"AuthenticationServices"},{"type":"text","text":". This will serve as our authenticator."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"AuthenticationSetup_SigninViewModel_2.swift","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Define a class called SigninViewModel, of type NSObject with protocol ObservableObject. We will also define some variables that will be used later."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"AuthenticationSetup_SigninViewModel_3.swift","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Inside of this class we will define a function called "},{"type":"codeVoice","code":"performSignin"},{"type":"text","text":". This function will handle the authentication."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"AuthenticationSetup_SigninViewModel_4.swift","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"We add the configuration of the OAuth provider and use this provider to authorise the user with the browser."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"AuthenticationSetup_SigninViewModel_5.swift","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The SigninViewModel requires two extensions of functionality, which will be added in this step."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"AuthenticationSetup_ContentView_6.swift","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"We can now go back to the previous "},{"type":"codeVoice","code":"ContentView.swift"},{"type":"text","text":" file and add the SigninViewModel as an environment object. This allows us to add functionality to our button, which will now call the previously created performSignin function."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null}]},{"anchor":"View-the-returned-token","title":"View the returned token","contentSection":[{"kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Now that we have been able to successfully validate ourselves via the Authorization SDK using an authorization server, we can create an interface to interact with and view this information."}]}],"mediaPosition":"trailing"}],"stepsSection":[{"code":"AuthenticationSetup_TokenView_1.swift","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"We will create a new file called "},{"type":"codeVoice","code":"TokenView.swift"},{"type":"text","text":", which will represent a new screen that will display our token info."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"AuthenticationSetup_TokenView_2.swift","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"We can access the received information through the shared environment variable "},{"type":"codeVoice","code":"viewModel"},{"type":"text","text":" that we defined before."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"AuthenticationSetup_TokenView_3.swift","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"We can create a form that we will populate with the values stored in the viewModel environment variable."}]}],"caption":[],"type":"step","runtimePreview":null,"media":null},{"code":"AuthenticationSetup_ContentView_7.swift","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"And finally, we have to create a button that will open this page from the main screen."}]}],"caption":[],"type":"step","runtimePreview":"AuthenticationSetup_preview_6.png","media":null}]}]}],"identifier":{"url":"doc:\/\/com.ibm.iOS-SDK\/tutorials\/iOS-SDK\/AuthenticationSetup","interfaceLanguage":"swift"},"kind":"project","metadata":{"title":"Getting started with Authentication","categoryPathComponent":"authentication","role":"project","category":"AuthenticationSDK"},"hierarchy":{"modules":[{"reference":"doc:\/\/com.ibm.iOS-SDK\/tutorials\/authentication\/Authentication-Setup","projects":[{"reference":"doc:\/\/com.ibm.iOS-SDK\/tutorials\/iOS-SDK\/AuthenticationSetup","sections":[{"kind":"task","reference":"doc:\/\/com.ibm.iOS-SDK\/tutorials\/iOS-SDK\/AuthenticationSetup#Create-an-example-app-that-utilises-the-Authentication-SDK"},{"kind":"task","reference":"doc:\/\/com.ibm.iOS-SDK\/tutorials\/iOS-SDK\/AuthenticationSetup#Creating-the-Main-Interface"},{"kind":"task","reference":"doc:\/\/com.ibm.iOS-SDK\/tutorials\/iOS-SDK\/AuthenticationSetup#Create-Authentication-functionality"},{"kind":"task","reference":"doc:\/\/com.ibm.iOS-SDK\/tutorials\/iOS-SDK\/AuthenticationSetup#View-the-returned-token"}]}]}],"reference":"doc:\/\/com.ibm.iOS-SDK\/tutorials\/authentication","paths":[["doc:\/\/com.ibm.iOS-SDK\/tutorials\/authentication","doc:\/\/com.ibm.iOS-SDK\/tutorials\/authentication\/$volume","doc:\/\/com.ibm.iOS-SDK\/tutorials\/authentication\/Authentication-Setup"]]},"references":{"AuthenticationSetup_SigninViewModel_1.swift":{"syntax":"swift","content":["\/\/","\/\/  AuthenticationSetup_SigninViewModel_1.swift","\/\/  ","\/\/","\/\/  Created by Dylan Bowler on 31\/5\/2022.","\/\/","","import Foundation","import Authentication","import AuthenticationServices"],"fileName":"SigninViewModel.swift","identifier":"AuthenticationSetup_SigninViewModel_1.swift","type":"file","fileType":"swift","highlights":[]},"step_1_new_project.png":{"alt":"The new project screen for XCode, with the 'New Project' button highlighted.","type":"image","identifier":"step_1_new_project.png","variants":[{"url":"\/images\/step_1_new_project.png","traits":["1x","light"]}]},"AuthenticationSetup_TokenView_2.swift":{"syntax":"swift","content":["\/\/","\/\/  AuthenticationSetup_TokenView_1.swift","\/\/  ","\/\/","\/\/  Created by Dylan Bowler on 31\/5\/2022.","\/\/","","import SwiftUI","import Authentication","","struct TokenView: View {","    @EnvironmentObject var viewModel: SigninViewModel","    ","    var body: some View {","        ","    }","}","","struct TokenView_Previews: PreviewProvider {","    static var previews: some View {","        TokenView()","    }","}"],"fileName":"TokenView.swift","identifier":"AuthenticationSetup_TokenView_2.swift","type":"file","fileType":"swift","highlights":[{"line":12}]},"doc://com.ibm.iOS-SDK/tutorials/iOS-SDK/AuthenticationSetup#Create-Authentication-functionality":{"role":"pseudoSymbol","title":"Create Authentication functionality","abstract":[{"type":"text","text":"This tutorial guides you through creating an app that utilises the "},{"type":"emphasis","inlineContent":[{"type":"text","text":"Authentication"}]},{"type":"text","text":" SDK."}],"identifier":"doc:\/\/com.ibm.iOS-SDK\/tutorials\/iOS-SDK\/AuthenticationSetup#Create-Authentication-functionality","kind":"section","type":"section","url":"\/tutorials\/ios-sdk\/authenticationsetup#Create-Authentication-functionality"},"step_7_authentication_check.png":{"alt":"A screenshot of the 'Add Package' pop-up menu with the Authentication SDK ticked in the package select screen.","type":"image","identifier":"step_7_authentication_check.png","variants":[{"url":"\/images\/step_7_authentication_check.png","traits":["1x","light"]}]},"AuthenticationSetup_preview_4.png":{"alt":"A screenshot of the current app display, with the info text shown in the center of the screen, with a Get Started button at the bottom of the screen.","type":"image","identifier":"AuthenticationSetup_preview_4.png","variants":[{"url":"\/images\/AuthenticationSetup_preview_4.png","traits":["1x","light"]}]},"AuthenticationSetup_ContentView_6.swift":{"syntax":"swift","content":["\/\/","\/\/  ContentView.swift","\/\/  AuthTest","\/\/","\/\/  Created by Dylan Bowler on 26\/5\/2022.","\/\/","","import SwiftUI","","struct ContentView: View {","    ","    @StateObject var viewModel = SigninViewModel()","    @State private var authorizationURL: String = \"\"","    @State private var tokenURL: String = \"\"","    @State private var clientID: String = \"\"","    @State private var redirectURL: String = \"verifysdk:\/\/auth\/callback\"","    @State private var shareSession: Bool = true","    @State private var includeState: Bool = false","    ","    var body: some View {","        NavigationView {","            VStack(spacing: 16) {","                Spacer()","                Image(systemName: \"person.circle\")","                    .resizable()","                    .frame(width: 50, height: 50)","                    .foregroundColor(.blue)","        ","                VStack(spacing: 8) {","                    Text(\"This sample app demonstrates initiating an OAuth2 authorization code flow and exchanging it for an access token.\")","                        .foregroundColor(.secondary)","                        .font(.title2)","                        .multilineTextAlignment(.center)","                        .padding()","                    ","                    ScrollViewReader {","                        _ in Form {","                            Section(header: Text(\"Authorization Endpoint\")) {","                                TextField(text: $authorizationURL, prompt: Text(\"Authorization URL\")) {","                                    Text(\"The URL to the authorization endpoint.\")","                                }","                            }","                            Section(header: Text(\"Token Endpoint\")) {","                                TextField(text: $tokenURL, prompt: Text(\"Token URL\")) {","                                    Text(\"The URL to the token endpoint.\")","                                }","                            }","                            Section(header: Text(\"Redirect Callback\")) {","                                TextField(text: $redirectURL, prompt: Text(\"Redirect URL\")) {","                                    Text(\"The URL to the redirect scheme.\")","                                }","                            }","                            Section(header: Text(\"Client ID\")) {","                                TextField(text: $clientID, prompt: Text(\"Client ID\")) {","                                    Text(\"The client identifier.\")","                                }","                            }","                            Section(header: Text(\"Configuration Options\")) {","                                Toggle(\"Share session\", isOn: $shareSession)","                                Toggle(\"Include state\", isOn: $includeState)","                            }","                        }.padding()","                        .cornerRadius(16)","                    }","                    ","                    HStack {","                        Button {","                            viewModel.performSignin(authorizationURL: authorizationURL, tokenURL: tokenURL, redirectURL: redirectURL, clientID: clientID, shareSession: shareSession, includeState: includeState","                            )","                        } label: {","                            Text(\"Get started\")","                                .frame(maxWidth:.infinity)","                                .foregroundColor(.white)","                                .padding()","                                .background(.blue)","                                .cornerRadius(8)","                        }","                        ","                        ","                    }.frame(maxWidth:.infinity)","                    .padding(16)","                }","            }","        }.environmentObject(viewModel)","    }","}","","struct ContentView_Previews: PreviewProvider {","    static var previews: some View {","        ContentView()","    }","}",""],"fileName":"ContentView.swift","identifier":"AuthenticationSetup_ContentView_6.swift","type":"file","fileType":"swift","highlights":[{"line":12},{"line":68},{"line":69},{"line":84}]},"doc://com.ibm.iOS-SDK/tutorials/authentication/Authentication-Setup":{"role":"article","title":"Authentication Setup","abstract":[],"identifier":"doc:\/\/com.ibm.iOS-SDK\/tutorials\/authentication\/Authentication-Setup","kind":"article","type":"topic","url":"\/tutorials\/authentication\/authentication-setup"},"step_3_name_project.png":{"alt":"A screenshot of the configuration screen when creating a new project, with the name box highlighted with text that says 'AuthTest'","type":"image","identifier":"step_3_name_project.png","variants":[{"url":"\/images\/step_3_name_project.png","traits":["1x","light"]}]},"doc://com.ibm.iOS-SDK/tutorials/authentication":{"role":"overview","title":"Getting started with Authentication","abstract":[{"type":"text","text":"Verify the identity of users of your app via the IBM Verify Authentication SDK."}],"identifier":"doc:\/\/com.ibm.iOS-SDK\/tutorials\/authentication","kind":"overview","type":"topic","url":"\/tutorials\/authentication"},"step_2_iOS_template.png":{"alt":"A screenshot of the new application pop-up on XCode, highlighting the 'App' and the 'Next' buttons.","type":"image","identifier":"step_2_iOS_template.png","variants":[{"url":"\/images\/step_2_iOS_template.png","traits":["1x","light"]}]},"AuthenticationSetup_TokenView_3.swift":{"syntax":"swift","content":["\/\/","\/\/  AuthenticationSetup_TokenView_1.swift","\/\/  ","\/\/","\/\/  Created by Dylan Bowler on 31\/5\/2022.","\/\/","","import SwiftUI","import Authentication","","struct TokenView: View {","    @EnvironmentObject var viewModel: SigninViewModel","    ","    var body: some View {","        Form {","            Section(header: Text(\"Access Token\")) {","                if let token = viewModel.token {","                    Text(token.accessToken)","                }","                else {","                    Text(\"No token was generated.\")","                }","            }","            Section(header: Text(\"Refresh Token\")) {","                if let token = viewModel.token, let refreshToken = token.refreshToken {","                    Text(refreshToken)","                }","                else {","                    Text(\"No refresh token was generated.\")","                }","            }","            Section(header: Text(\"Token Type\")) {","                if let token = viewModel.token {","                    Text(token.tokenType)","                }","                else {","                    Text(\"No token type was generated.\")","                }","            }","            Section(header: Text(\"Expires In\")) {","                if let token = viewModel.token {","                    Text(\"\\(token.expiresIn)\")","                }","                else {","                    Text(\"No expiry time was generated.\")","                }","            }","        }.padding()","            .cornerRadius(16)","    }","}","","struct TokenView_Previews: PreviewProvider {","    static var previews: some View {","        TokenView()","    }","}"],"fileName":"TokenView.swift","identifier":"AuthenticationSetup_TokenView_3.swift","type":"file","fileType":"swift","highlights":[{"line":15},{"line":16},{"line":17},{"line":18},{"line":19},{"line":20},{"line":21},{"line":22},{"line":23},{"line":24},{"line":25},{"line":26},{"line":27},{"line":28},{"line":29},{"line":30},{"line":31},{"line":32},{"line":33},{"line":34},{"line":35},{"line":36},{"line":37},{"line":38},{"line":39},{"line":40},{"line":41},{"line":42},{"line":43},{"line":44},{"line":45},{"line":46},{"line":47},{"line":48},{"line":49}]},"AuthenticationSetup_preview_5.png":{"alt":"A screenshot of the current app display, with the info text shown in the center of the screen, with a Get Started button at the bottom of the screen, and now a scrollable series of text input fields.","type":"image","identifier":"AuthenticationSetup_preview_5.png","variants":[{"url":"\/images\/AuthenticationSetup_preview_5.png","traits":["1x","light"]}]},"step_5_add_package.png":{"alt":"A screenshot of the xcode window with the 'File' menu bar highlighted, as well as the 'Add Packages...' item in that menu selected.","type":"image","identifier":"step_5_add_package.png","variants":[{"url":"\/images\/step_5_add_package.png","traits":["1x","light"]}]},"AuthenticationSetup_ContentView_2.swift":{"syntax":"swift","content":["\/\/","\/\/  ContentView.swift","\/\/  AuthTest","\/\/","\/\/  Created by Dylan Bowler on 26\/5\/2022.","\/\/","","import SwiftUI","","struct ContentView: View {","    ","    @State private var authorizationURL: String = \"\"","    @State private var tokenURL: String = \"\"","    @State private var clientID: String = \"\"","    @State private var redirectURL: String = \"verifysdk:\/\/auth\/callback\"","    @State private var shareSession: Bool = true","    @State private var includeState: Bool = false","    ","    var body: some View {","        Text(\"Hello, world!\")","            .padding()","    }","}","","struct ContentView_Previews: PreviewProvider {","    static var previews: some View {","        ContentView()","    }","}",""],"fileName":"ContentView.swift","identifier":"AuthenticationSetup_ContentView_2.swift","type":"file","fileType":"swift","highlights":[{"line":11},{"line":12},{"line":13},{"line":14},{"line":15},{"line":16},{"line":17},{"line":18}]},"AuthenticationSetup_SigninViewModel_5.swift":{"syntax":"swift","content":["\/\/","\/\/  AuthenticationSetup_SigninViewModel_1.swift","\/\/  ","\/\/","\/\/  Created by Dylan Bowler on 31\/5\/2022.","\/\/","","import Foundation","import Authentication","import AuthenticationServices","","class SigninViewModel: NSObject, ObservableObject {","    @Published var token: TokenInfo?","    var tokenURL: URL?","    var redirectURL: URL?","    ","    let clientSecret = \"\"","    ","    func performSignin(authorizationURL: String, tokenURL: String, redirectURL: String, clientID: String, shareSession: Bool, includeState: Bool) {","        let issuerURL = URL(string: authorizationURL)!","        self.redirectURL = URL(string: redirectURL)!","        self.tokenURL = URL(string: tokenURL)!","        ","        let provider = OAuthProvider(clientId: clientID, clientSecret: self.clientSecret)","        provider.delegate = self","        ","        provider.authorizeWithBrowser (","            issuer: issuerURL,","            redirectUrl: self.redirectURL!,","            presentingViewController: self,","            state: includeState ? UUID().uuidString : nil,","            shareSession: shareSession","        )","    }","}","","\/\/ MARK: - ASWebAuthenticationPresentationContextProviding","extension SigninViewModel: ASWebAuthenticationPresentationContextProviding {","    func presentationAnchor(for session: ASWebAuthenticationSession) -> ASPresentationAnchor {","        return ASPresentationAnchor()","    }","}","","\/\/ MARK: - OAuthProviderDelegate","extension SigninViewModel: OAuthProviderDelegate {","    func oauthProvider(provider: OAuthProvider, didCompleteWithError error: Error) {","        print(error.localizedDescription)","    }","    ","    func oauthProvider(provider: OAuthProvider, didCompleteWithCode result: (code: String, state: String?)) {","        ","        provider.authorize(issuer: tokenURL!, redirectUrl: self.redirectURL, authorizationCode: result.code, codeVerifier: nil) { result in","         ","            DispatchQueue.main.async {","                switch result {","                case .success(let token):","                    self.token = token","                case .failure(let error):","                    print(\"error \\(error.localizedDescription)\")","                }","            }","        }","    }","}",""],"fileName":"SigninViewModel.swift","identifier":"AuthenticationSetup_SigninViewModel_5.swift","type":"file","fileType":"swift","highlights":[{"line":36},{"line":37},{"line":38},{"line":39},{"line":40},{"line":41},{"line":42},{"line":43},{"line":44},{"line":45},{"line":46},{"line":47},{"line":48},{"line":49},{"line":50},{"line":51},{"line":52},{"line":53},{"line":54},{"line":55},{"line":56},{"line":57},{"line":58},{"line":59},{"line":60},{"line":61},{"line":62},{"line":63},{"line":64},{"line":65}]},"doc://com.ibm.iOS-SDK/tutorials/iOS-SDK/AuthenticationSetup#Creating-the-Main-Interface":{"role":"pseudoSymbol","title":"Creating the Main Interface","abstract":[{"type":"text","text":"This tutorial guides you through creating an app that utilises the "},{"type":"emphasis","inlineContent":[{"type":"text","text":"Authentication"}]},{"type":"text","text":" SDK."}],"identifier":"doc:\/\/com.ibm.iOS-SDK\/tutorials\/iOS-SDK\/AuthenticationSetup#Creating-the-Main-Interface","kind":"section","type":"section","url":"\/tutorials\/ios-sdk\/authenticationsetup#Creating-the-Main-Interface"},"AuthenticationSetup_SigninViewModel_3.swift":{"syntax":"swift","content":["\/\/","\/\/  AuthenticationSetup_SigninViewModel_1.swift","\/\/  ","\/\/","\/\/  Created by Dylan Bowler on 31\/5\/2022.","\/\/","","import Foundation","import Authentication","import AuthenticationServices","","class SigninViewModel: NSObject, ObservableObject {","    @Published var token: TokenInfo?","    var tokenURL: URL?","    var redirectURL: URL?","    ","    let clientSecret = \"\"","    ","    func performSignin(authorizationURL: String, tokenURL: String, redirectURL: String, clientID: String, shareSession: Bool, includeState: Bool) {","        ","    }","}"],"fileName":"SigninViewModel.swift","identifier":"AuthenticationSetup_SigninViewModel_3.swift","type":"file","fileType":"swift","highlights":[{"line":18},{"line":19},{"line":20},{"line":21}]},"AuthenticationSetup_SigninViewModel_4.swift":{"syntax":"swift","content":["\/\/","\/\/  AuthenticationSetup_SigninViewModel_1.swift","\/\/  ","\/\/","\/\/  Created by Dylan Bowler on 31\/5\/2022.","\/\/","","import Foundation","import Authentication","import AuthenticationServices","","class SigninViewModel: NSObject, ObservableObject {","    @Published var token: TokenInfo?","    var tokenURL: URL?","    var redirectURL: URL?","    ","    let clientSecret = \"\"","    ","    func performSignin(authorizationURL: String, tokenURL: String, redirectURL: String, clientID: String, shareSession: Bool, includeState: Bool) {","        let issuerURL = URL(string: authorizationURL)!","        self.redirectURL = URL(string: redirectURL)!","        self.tokenURL = URL(string: tokenURL)!","        ","        let provider = OAuthProvider(clientId: clientID, clientSecret: self.clientSecret)","        provider.delegate = self","        ","        provider.authorizeWithBrowser (","            issuer: issuerURL,","            redirectUrl: self.redirectURL!,","            presentingViewController: self,","            state: includeState ? UUID().uuidString : nil,","            shareSession: shareSession","        )","    }","}"],"fileName":"SigninViewModel.swift","identifier":"AuthenticationSetup_SigninViewModel_4.swift","type":"file","fileType":"swift","highlights":[{"line":20},{"line":21},{"line":22},{"line":24},{"line":25},{"line":26},{"line":27},{"line":28},{"line":29},{"line":30},{"line":31},{"line":32},{"line":33}]},"AuthenticationSetup_preview_6.png":{"alt":"A screenshot of the token view page, with the returned token information filled out.","type":"image","identifier":"AuthenticationSetup_preview_6.png","variants":[{"url":"\/images\/AuthenticationSetup_preview_6.png","traits":["1x","light"]}]},"AuthenticationSetup_SigninViewModel_2.swift":{"syntax":"swift","content":["\/\/","\/\/  AuthenticationSetup_SigninViewModel_1.swift","\/\/  ","\/\/","\/\/  Created by Dylan Bowler on 31\/5\/2022.","\/\/","","import Foundation","import Authentication","import AuthenticationServices","","class SigninViewModel: NSObject, ObservableObject {","    @Published var token: TokenInfo?","    var codeVerifier: String? = nil","    var codeChallenge: String? = nil","    var tokenURL: URL?","    var redirectURL: URL?","    ","    let clientSecret = \"\"","}"],"fileName":"SigninViewModel.swift","identifier":"AuthenticationSetup_SigninViewModel_2.swift","type":"file","fileType":"swift","highlights":[{"line":11},{"line":12},{"line":13},{"line":14},{"line":15},{"line":16},{"line":17},{"line":18},{"line":19},{"line":20}]},"doc://com.ibm.iOS-SDK/tutorials/iOS-SDK/AuthenticationSetup":{"role":"project","title":"Getting started with Authentication","estimatedTime":"10min","abstract":[{"type":"text","text":"This tutorial guides you through creating an app that utilises the "},{"type":"emphasis","inlineContent":[{"type":"text","text":"Authentication"}]},{"type":"text","text":" SDK."}],"identifier":"doc:\/\/com.ibm.iOS-SDK\/tutorials\/iOS-SDK\/AuthenticationSetup","kind":"project","type":"topic","url":"\/tutorials\/ios-sdk\/authenticationsetup"},"step_4_swift_ui.png":{"alt":"A screenshot of the configuration screen of a new project, with the 'Interface' and the 'language' highlighted and set to 'SwiftUI' & 'Swift' respectively","type":"image","identifier":"step_4_swift_ui.png","variants":[{"url":"\/images\/step_4_swift_ui.png","traits":["1x","light"]}]},"doc://com.ibm.iOS-SDK/tutorials/iOS-SDK/AuthenticationSetup#View-the-returned-token":{"role":"pseudoSymbol","title":"View the returned token","abstract":[{"type":"text","text":"This tutorial guides you through creating an app that utilises the "},{"type":"emphasis","inlineContent":[{"type":"text","text":"Authentication"}]},{"type":"text","text":" SDK."}],"identifier":"doc:\/\/com.ibm.iOS-SDK\/tutorials\/iOS-SDK\/AuthenticationSetup#View-the-returned-token","kind":"section","type":"section","url":"\/tutorials\/ios-sdk\/authenticationsetup#View-the-returned-token"},"AuthenticationSetup_ContentView_7.swift":{"syntax":"swift","content":["\/\/","\/\/  ContentView.swift","\/\/  AuthTest","\/\/","\/\/  Created by Dylan Bowler on 26\/5\/2022.","\/\/","","import SwiftUI","","struct ContentView: View {","    ","    @StateObject var viewModel = SigninViewModel()","    @State private var authorizationURL: String = \"\"","    @State private var tokenURL: String = \"\"","    @State private var clientID: String = \"\"","    @State private var redirectURL: String = \"verifysdk:\/\/auth\/callback\"","    @State private var shareSession: Bool = true","    @State private var includeState: Bool = false","    ","    var body: some View {","        NavigationView {","            VStack(spacing: 16) {","                Spacer()","                Image(systemName: \"person.circle\")","                    .resizable()","                    .frame(width: 50, height: 50)","                    .foregroundColor(.blue)","        ","                VStack(spacing: 8) {","                    Text(\"This sample app demonstrates initiating an OAuth2 authorization code flow and exchanging it for an access token.\")","                        .foregroundColor(.secondary)","                        .font(.title2)","                        .multilineTextAlignment(.center)","                        .padding()","                    ","                    ScrollViewReader {","                        _ in Form {","                            Section(header: Text(\"Authorization Endpoint\")) {","                                TextField(text: $authorizationURL, prompt: Text(\"Authorization URL\")) {","                                    Text(\"The URL to the authorization endpoint.\")","                                }","                            }","                            Section(header: Text(\"Token Endpoint\")) {","                                TextField(text: $tokenURL, prompt: Text(\"Token URL\")) {","                                    Text(\"The URL to the token endpoint.\")","                                }","                            }","                            Section(header: Text(\"Redirect Callback\")) {","                                TextField(text: $redirectURL, prompt: Text(\"Redirect URL\")) {","                                    Text(\"The URL to the redirect scheme.\")","                                }","                            }","                            Section(header: Text(\"Client ID\")) {","                                TextField(text: $clientID, prompt: Text(\"Client ID\")) {","                                    Text(\"The client identifier.\")","                                }","                            }","                            Section(header: Text(\"Configuration Options\")) {","                                Toggle(\"Share session\", isOn: $shareSession)","                                Toggle(\"Include state\", isOn: $includeState)","                            }","                        }.padding()","                        .cornerRadius(16)","                    }","                    ","                    HStack {","                        Button {","                            viewModel.performSignin(authorizationURL: authorizationURL, tokenURL: tokenURL, redirectURL: redirectURL, clientID: clientID, shareSession: shareSession, includeState: includeState","                            )","                        } label: {","                            Text(\"Get started\")","                                .frame(maxWidth:.infinity)","                                .foregroundColor(.white)","                                .padding()","                                .background(.blue)","                                .cornerRadius(8)","                        }","                        ","                        ","                    }.frame(maxWidth:.infinity)","                    .padding(16)","                    ","                    NavigationLink(destination: TokenView()) {","                        Text(\"Display token\")","                    }","                }","            }","        }.environmentObject(viewModel)","    }","}","","struct ContentView_Previews: PreviewProvider {","    static var previews: some View {","        ContentView()","    }","}",""],"fileName":"ContentView.swift","identifier":"AuthenticationSetup_ContentView_7.swift","type":"file","fileType":"swift","highlights":[{"line":82},{"line":83},{"line":84},{"line":85}]},"AuthenticationSetup_ContentView_5.swift":{"syntax":"swift","content":["\/\/","\/\/  ContentView.swift","\/\/  AuthTest","\/\/","\/\/  Created by Dylan Bowler on 26\/5\/2022.","\/\/","","import SwiftUI","","struct ContentView: View {","    ","    @State private var authorizationURL: String = \"\"","    @State private var tokenURL: String = \"\"","    @State private var clientID: String = \"\"","    @State private var redirectURL: String = \"verifysdk:\/\/auth\/callback\"","    @State private var shareSession: Bool = true","    @State private var includeState: Bool = false","    ","    var body: some View {","        NavigationView {","            VStack(spacing: 16) {","                Spacer()","                Image(systemName: \"person.circle\")","                    .resizable()","                    .frame(width: 50, height: 50)","                    .foregroundColor(.blue)","        ","                VStack(spacing: 8) {","                    Text(\"This sample app demonstrates initiating an OAuth2 authorization code flow and exchanging it for an access token.\")","                        .foregroundColor(.secondary)","                        .font(.title2)","                        .multilineTextAlignment(.center)","                        .padding()","                    ","                    ScrollViewReader {","                        _ in Form {","                            Section(header: Text(\"Authorization Endpoint\")) {","                                TextField(text: $authorizationURL, prompt: Text(\"Authorization URL\")) {","                                    Text(\"The URL to the authorization endpoint.\")","                                }","                            }","                            Section(header: Text(\"Token Endpoint\")) {","                                TextField(text: $tokenURL, prompt: Text(\"Token URL\")) {","                                    Text(\"The URL to the token endpoint.\")","                                }","                            }","                            Section(header: Text(\"Redirect Callback\")) {","                                TextField(text: $redirectURL, prompt: Text(\"Redirect URL\")) {","                                    Text(\"The URL to the redirect scheme.\")","                                }","                            }","                            Section(header: Text(\"Client ID\")) {","                                TextField(text: $clientID, prompt: Text(\"Client ID\")) {","                                    Text(\"The client identifier.\")","                                }","                            }","                            Section(header: Text(\"Configuration Options\")) {","                                Toggle(\"Share session\", isOn: $shareSession)","                                Toggle(\"Include state\", isOn: $includeState)","                            }","                        }.padding()","                        .cornerRadius(16)","                    }","                    ","                    HStack {","                        Button {","                        } label: {","                            Text(\"Get started\")","                                .frame(maxWidth:.infinity)","                                .foregroundColor(.white)","                                .padding()","                                .background(.blue)","                                .cornerRadius(8)","                        }","                        ","                        ","                    }.frame(maxWidth:.infinity)","                    .padding(16)","                }","            }","        }","    }","}","","struct ContentView_Previews: PreviewProvider {","    static var previews: some View {","        ContentView()","    }","}",""],"fileName":"ContentView.swift","identifier":"AuthenticationSetup_ContentView_5.swift","type":"file","fileType":"swift","highlights":[{"line":35},{"line":36},{"line":37},{"line":38},{"line":39},{"line":40},{"line":41},{"line":42},{"line":43},{"line":44},{"line":45},{"line":46},{"line":47},{"line":48},{"line":49},{"line":50},{"line":51},{"line":52},{"line":53},{"line":54},{"line":55},{"line":56},{"line":57},{"line":58},{"line":59},{"line":60},{"line":61},{"line":62},{"line":63}]},"AuthenticationSetup_ContentView_4.swift":{"syntax":"swift","content":["\/\/","\/\/  ContentView.swift","\/\/  AuthTest","\/\/","\/\/  Created by Dylan Bowler on 26\/5\/2022.","\/\/","","import SwiftUI","","struct ContentView: View {","    ","    @State private var authorizationURL: String = \"\"","    @State private var tokenURL: String = \"\"","    @State private var clientID: String = \"\"","    @State private var redirectURL: String = \"verifysdk:\/\/auth\/callback\"","    @State private var shareSession: Bool = true","    @State private var includeState: Bool = false","    ","    var body: some View {","        NavigationView {","            VStack(spacing: 16) {","                Spacer()","                Image(systemName: \"person.circle\")","                    .resizable()","                    .frame(width: 50, height: 50)","                    .foregroundColor(.blue)","        ","                VStack(spacing: 8) {","                    Text(\"This sample app demonstrates initiating an OAuth2 authorization code flow and exchanging it for an access token.\")","                        .foregroundColor(.secondary)","                        .font(.title2)","                        .multilineTextAlignment(.center)","                        .padding()","                    ","                    ","                    HStack {","                        Button {","                        } label: {","                            Text(\"Get started\")","                                .frame(maxWidth:.infinity)","                                .foregroundColor(.white)","                                .padding()","                                .background(.blue)","                                .cornerRadius(8)","                        }","                        ","                        ","                    }.frame(maxWidth:.infinity)","                    .padding(16)","                }","            }","        }","    }","}","","struct ContentView_Previews: PreviewProvider {","    static var previews: some View {","        ContentView()","    }","}",""],"fileName":"ContentView.swift","identifier":"AuthenticationSetup_ContentView_4.swift","type":"file","fileType":"swift","highlights":[{"line":21},{"line":22},{"line":23},{"line":24},{"line":25},{"line":26},{"line":27},{"line":28},{"line":29},{"line":30},{"line":31},{"line":32},{"line":33},{"line":34},{"line":35},{"line":36},{"line":37},{"line":38},{"line":39},{"line":40},{"line":41},{"line":42},{"line":43},{"line":44},{"line":45},{"line":46},{"line":47},{"line":48},{"line":49},{"line":50},{"line":51}]},"eye-bee-m.jpeg":{"alt":"The IBM Logo","type":"image","identifier":"eye-bee-m.jpeg","variants":[{"url":"\/images\/eye-bee-m.jpeg","traits":["1x","light"]}]},"AuthenticationSetup_ContentView_3.swift":{"syntax":"swift","content":["\/\/","\/\/  ContentView.swift","\/\/  AuthTest","\/\/","\/\/  Created by Dylan Bowler on 26\/5\/2022.","\/\/","","import SwiftUI","","struct ContentView: View {","    ","    @State private var authorizationURL: String = \"\"","    @State private var tokenURL: String = \"\"","    @State private var clientID: String = \"\"","    @State private var redirectURL: String = \"verifysdk:\/\/auth\/callback\"","    @State private var shareSession: Bool = true","    @State private var includeState: Bool = false","    ","    var body: some View {","        NavigationView {","            ","        }","    }","}","","struct ContentView_Previews: PreviewProvider {","    static var previews: some View {","        ContentView()","    }","}",""],"fileName":"ContentView.swift","identifier":"AuthenticationSetup_ContentView_3.swift","type":"file","fileType":"swift","highlights":[{"line":20},{"line":21},{"line":22}]},"doc://com.ibm.iOS-SDK/tutorials/iOS-SDK/AuthenticationSetup#Create-an-example-app-that-utilises-the-Authentication-SDK":{"role":"pseudoSymbol","title":"Create an example app that utilises the Authentication SDK","abstract":[{"type":"text","text":"This tutorial guides you through creating an app that utilises the "},{"type":"emphasis","inlineContent":[{"type":"text","text":"Authentication"}]},{"type":"text","text":" SDK."}],"identifier":"doc:\/\/com.ibm.iOS-SDK\/tutorials\/iOS-SDK\/AuthenticationSetup#Create-an-example-app-that-utilises-the-Authentication-SDK","kind":"section","type":"section","url":"\/tutorials\/ios-sdk\/authenticationsetup#Create-an-example-app-that-utilises-the-Authentication-SDK"},"step_6_find_package.png":{"alt":"A screenshot of the package menu with the search bar highlighted, input with the text 'https:\/\/github.com\/ibm-security-verify\/verify-sdk-ios.git', and the 'Add Package' button highlighted.","type":"image","identifier":"step_6_find_package.png","variants":[{"url":"\/images\/step_6_find_package.png","traits":["1x","light"]}]},"AuthenticationSetup_TokenView_1.swift":{"syntax":"swift","content":["\/\/","\/\/  AuthenticationSetup_TokenView_1.swift","\/\/  ","\/\/","\/\/  Created by Dylan Bowler on 31\/5\/2022.","\/\/","","import SwiftUI","import Authentication","","struct TokenView: View {","    ","    var body: some View {","        ","    }","}","","struct TokenView_Previews: PreviewProvider {","    static var previews: some View {","        TokenView()","    }","}"],"fileName":"TokenView.swift","identifier":"AuthenticationSetup_TokenView_1.swift","type":"file","fileType":"swift","highlights":[]}}}